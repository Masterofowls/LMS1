(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{9974:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return t(2220)}])},8391:(e,s,t)=>{"use strict";t.d(s,{N:()=>a});let a=(0,t(5183).UU)("https://your-supabase-url","your-supabase-key")},2220:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(4848),n=t(6540),r=t(8391),i=t(9936),u=t.n(i);let c=()=>{let[e,s]=(0,n.useState)([]),[t,i]=(0,n.useState)("");(0,n.useEffect)(()=>{c()},[]);let c=async()=>{let{data:e,error:t}=await r.N.from("messages").select("content, created_at, users (email)");t?console.error("Error fetching messages:",t.message):s(e)},l=async()=>{let e=r.N.auth.getUser();if(e){let{error:s}=await r.N.from("messages").insert([{content:t,user_id:e.id}]);s?console.error("Error sending message:",s.message):(i(""),c())}};return(0,a.jsxs)("div",{className:u().chatContainer,children:[(0,a.jsx)("div",{className:u().messagesContainer,children:e&&e.length>0?e.map((e,s)=>(0,a.jsxs)("div",{className:u().message,children:[(0,a.jsxs)("strong",{children:[e.users.email,":"]})," ",e.content]},s)):(0,a.jsx)("div",{children:"No messages yet."})}),(0,a.jsx)("input",{type:"text",value:t,onChange:e=>i(e.target.value),className:u().input}),(0,a.jsx)("button",{onClick:l,className:u().button,children:"Send"})]})},l=()=>(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Chat"}),(0,a.jsx)(c,{})]})},9936:e=>{e.exports={chatContainer:"Chat_chatContainer__4suD2",messagesContainer:"Chat_messagesContainer__aQtuY",message:"Chat_message__uKbna",input:"Chat_input__TMlEX",button:"Chat_button__WJG_E"}}},e=>{var s=s=>e(e.s=s);e.O(0,[183,636,593,792],()=>s(9974)),_N_E=e.O()}]);